<!--Need an Html file where we would launch our hangout


-->

{{extend 'layout.html'}}
<h1>Hangout</h1>
<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
    {{for session in sessions:}}
        <div class="panel panel-default">
            <div class="panel-heading" role="tab" id="heading-{{=session['session_info'].id}}">
                <h4 class="panel-title">
                    <a data-toggle="collapse" data-parent="#accordion" href="#collapse-{{=session['session_info'].id}}" aria-expanded="true" aria-controls="collapseOne">
                        {{=session['session_info'].title}} : {{=session['session_info'].start_time}}
                        ({{for member in session['members']:}}
                            {{=member.user_id.auth_user.first_name}} {{=member.user_id.auth_user.last_name}},
                         {{pass}}
                        )
                    </a>
                </h4>
            </div>
            <div id="collapse-{{=session['session_info'].id}}" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="heading-{{=session['session_info'].id}}">
                <div class="panel-body">
                    <table class="table">
                        {{for message in session['messages']:}}
                            <tr>
                                <td><strong>{{=message.sender_id.auth_user.first_name}} {{=message.sender_id.auth_user.last_name}}:</strong> {{=message.chat_message}}</td>
                                <td><small>@ {{=message.time_sent}}</small></td>
                            </tr>
                        {{pass}}
                    </table>
                </div>
            </div>
        </div>
    {{pass}}
</div>

<!--all hangout apps are written in  JavaScript and they are launched from the hangout -->
<!-- TO DO: display it if the user is logged in, otherwise prompt for login first -->
<div class="panel-group" id="hangout" role="tablist" aria-multiselectable="true">
    <!--We need an action: ask google plus to create a new hangout -->
    <!-- the Get method will append all the parameters as part of the urls -->
    <form action="https://plus.google.com/hangouts/_" method="GET">
    <!-- the gid is the identifier for the app that will get created -->
    <input type="hidden" name="gid" value="1034917723522"/>
    <!-- the gd is the data that will be sending into the app when it starts -->
    <select name="gd">
        <option>Hangouts</option>
        <option>Google+ API</option>
        <option>+1 Button</option>
    </select>
    <input type="submit"/>
</form>
</div>
